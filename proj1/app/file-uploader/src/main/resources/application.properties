spring.application.name=file-uploader

# =====================================================
# SERVER
# =====================================================
server.port=${SERVER_PORT:8080}
server.shutdown=graceful

# =====================================================
# DATABASE (PostgreSQL)
# =====================================================
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}

spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:validate}
spring.jpa.open-in-view=false
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# =====================================================
# MULTIPART (UPLOAD LIMITS)
# =====================================================
spring.servlet.multipart.max-file-size=${SPRING_MULTIPART_MAX_FILE_SIZE:500MB}
spring.servlet.multipart.max-request-size=${SPRING_MULTIPART_MAX_REQUEST_SIZE:500MB}
spring.servlet.multipart.file-size-threshold=2MB

# =====================================================
# ASYNC THREAD POOL
# =====================================================
spring.task.execution.pool.core-size=${SPRING_ASYNC_CORE_SIZE:4}
spring.task.execution.pool.max-size=${SPRING_ASYNC_MAX_SIZE:16}
spring.task.execution.pool.queue-capacity=${SPRING_ASYNC_QUEUE_CAPACITY:100}
spring.task.execution.thread-name-prefix=async-upload-

# =====================================================
# S3 / MINIO STORAGE
# =====================================================
app.storage.s3.endpoint=${S3_ENDPOINT}
app.storage.s3.region=${S3_REGION:us-east-1}
app.storage.s3.access-key=${S3_ACCESS_KEY}
app.storage.s3.secret-key=${S3_SECRET_KEY}
app.storage.s3.bucket=${S3_BUCKET}
app.storage.s3.path-style=${S3_PATH_STYLE:true}

# =====================================================
# LOGGING
# =====================================================
logging.level.root=${LOG_LEVEL_ROOT:INFO}
logging.level.org.springframework.web=${LOG_LEVEL_WEB:WARN}
logging.level.org.hibernate=${LOG_LEVEL_HIBERNATE:WARN}

# =====================================================
# JACKSON (JSON)
# =====================================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=UTC

# =====================================================
# ACTUATOR (если подключишь позже)
# =====================================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=never
